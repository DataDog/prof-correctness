FROM python:3.10

# When set, download and run this install script to pre-install ddtrace.
# Used by upstream dd-trace-py CI to test with just-built wheels from S3.
ARG DDTRACE_INSTALL_URL=""
RUN if [ -n "$DDTRACE_INSTALL_URL" ]; then \
      curl -fsSL "$DDTRACE_INSTALL_URL" | bash; \
    fi

ENV DD_PROFILING_ENABLED=true
ENV DD_TRACE_ENABLED=false
ENV DD_TRACE_DEBUG=true
ENV DD_PROFILING_OUTPUT_PPROF="/app/data/profiles"
