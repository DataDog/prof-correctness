FROM python:3.10

# When set, pre-install ddtrace from this URL (pip --find-links compatible).
# Used by upstream dd-trace-py CI to test with just-built wheels.
ARG DDTRACE_FIND_LINKS=""
RUN if [ -n "$DDTRACE_FIND_LINKS" ]; then \
      pip install --no-cache-dir --find-links "$DDTRACE_FIND_LINKS" --pre ddtrace; \
    fi

ENV DD_PROFILING_ENABLED=true
ENV DD_TRACE_ENABLED=false
ENV DD_TRACE_DEBUG=true
ENV DD_PROFILING_OUTPUT_PPROF="/app/data/profiles"
